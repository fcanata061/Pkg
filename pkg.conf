# ================================================
# Configuração global do gerenciador de pacotes
# ================================================

# Diretórios principais
ROOT_DIR="/"                       # raiz onde os pacotes são instalados
DB_DIR="/var/db/pkg"               # base de dados dos pacotes instalados
SRC_DIR="/var/db/pkg/sources"      # fontes baixados
BUILD_DIR="/tmp/build"             # diretórios de build temporário
PKG_DIR="/var/tmp/fakeroot"        # diretórios fakeroot
LOG_DIR="/var/log/pkg"             # logs de build/instalação

# Diretórios do repositório Git
REPO_DIR="/var/db/pkg/repo"
REPOS=("core" "extra" "x11" "desktop")

# Scripts auxiliares
SCRIPT1="./script1.sh"
SCRIPT2="./script2.sh"

# Prefixo padrão de instalação
PREFIX="/usr"

# Flags de compilação
export CFLAGS="-O2 -pipe -march=native"
export CXXFLAGS="$CFLAGS"
export LDFLAGS="-Wl,-O1,--as-needed"

# Quantos jobs paralelos usar no make
export MAKEFLAGS="-j$(nproc)"

# Variáveis padrão para instalação em fakeroot
export PKG="$PKG_DIR"              # usado dentro dos build.txt
export DESTDIR="$PKG"              # compatibilidade com autotools

# Variável de path do prefixo
export PATH="$PREFIX/bin:$PATH"

# Preferência de download
DOWNLOADER=""
if command -v wget >/dev/null; then
    DOWNLOADER="wget -c"
elif command -v curl >/dev/null; then
    DOWNLOADER="curl -L -O"
fi
export DOWNLOADER

# Ajustes de locale para builds reprodutíveis
export LC_ALL=C

# Criar diretórios caso não existam
mkdir -p "$DB_DIR" "$SRC_DIR" "$BUILD_DIR" "$PKG_DIR" "$LOG_DIR"

# (Opcional) URL do repositório Git para 'pkg sync'
# export REPO_GIT_URL="https://seu.repo.git"

# Cores ANSI
RED="\033[1;31m"
GREEN="\033[1;32m"
YELLOW="\033[1;33m"
BLUE="\033[1;34m"
MAGENTA="\033[1;35m"
CYAN="\033[1;36m"
RESET="\033[0m"
